<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>剣道自己診断</title>
    <link rel="stylesheet" href="main.css">

</head>
<body>
    <header style="background-color: black; width:100%; height:60px;color: white; background:linear-gradient(to top, rgba(242, 241, 255, 0.678) 0%,rgba(0,0,0,0.78) 50%);" >
        <h1 style="margin:auto;text-align:center;">剣道自己診断</h1>
    </header>
   <main>
    <form id="form">
        <div class="question" data-vector="[-4.63,0]">
            <h4>
                忍耐力（がまん強さ、ねばり強さ、苦痛に耐える）
            </h4>
                <div class="question_select" >
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q0" value="1">
                        <input type="radio" name="q0" value="2">
                        <input type="radio" name="q0" value="3">
                        <input type="radio" name="q0" value="4">
                        <input type="radio" name="q0" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[4.44,0]">
            <h4>
                闘争心（大事な場面での闘志やファイト、燃える気持ち）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q1" value="1">
                        <input type="radio" name="q1" value="2">
                        <input type="radio" name="q1" value="3">
                        <input type="radio" name="q1" value="4">
                        <input type="radio" name="q1" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[3.75,0]">
            <h4>
                自己実現（可能性への挑戦、主体性、自主性）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q2" value="1">
                        <input type="radio" name="q2" value="2">
                        <input type="radio" name="q2" value="3">
                        <input type="radio" name="q2" value="4">
                        <input type="radio" name="q2" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[4.25,0]">
            <h4>
                勝利志向性（勝利意欲、勝利重視の姿勢）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q3" value="1">
                        <input type="radio" name="q3" value="2">
                        <input type="radio" name="q3" value="3">
                        <input type="radio" name="q3" value="4">
                        <input type="radio" name="q3" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[-4.19,0]">
            <h4>
                自己コントロール（自己管理、緊張の緩和、気持ちの切り替え）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q4" value="1">
                        <input type="radio" name="q4" value="2">
                        <input type="radio" name="q4" value="3">
                        <input type="radio" name="q4" value="4">
                        <input type="radio" name="q4" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[-3.31,0]">
            <h4>
                リラックス（不安・プレッシャー・緊張のない精神状態）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q5" value="1">
                        <input type="radio" name="q5" value="2">
                        <input type="radio" name="q5" value="3">
                        <input type="radio" name="q5" value="4">
                        <input type="radio" name="q5" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[-4.63,0]">
            <h4>
                集中力（落ち着き、冷静さ、注意の集中）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q6" value="1">
                        <input type="radio" name="q6" value="2">
                        <input type="radio" name="q6" value="3">
                        <input type="radio" name="q6" value="4">
                        <input type="radio" name="q6" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[3.94,0]">
            <h4>
                自信（能力・実力発揮・目標達成への自信）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q7" value="1">
                        <input type="radio" name="q7" value="2">
                        <input type="radio" name="q7" value="3">
                        <input type="radio" name="q7" value="4">
                        <input type="radio" name="q7" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[-3.5,0]">
            <h4>
                作戦能力（試合中の戦略的思考や行動の能力）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q8" value="1">
                        <input type="radio" name="q8" value="2">
                        <input type="radio" name="q8" value="3">
                        <input type="radio" name="q8" value="4">
                        <input type="radio" name="q8" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,4.19]">
            <h4>
                打ちが正確か（打ちたいところに正確に打てているか、手の内がうまくできているか）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q9" value="1">
                        <input type="radio" name="q9" value="2">
                        <input type="radio" name="q9" value="3">
                        <input type="radio" name="q9" value="4">
                        <input type="radio" name="q9" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,3.38]">
            <h4>
                技の引き出しの多さ（試合で実際に使えている技の数）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q10" value="1">
                        <input type="radio" name="q10" value="2">
                        <input type="radio" name="q10" value="3">
                        <input type="radio" name="q10" value="4">
                        <input type="radio" name="q10" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,4.19]">
            <h4>
                間合いの管理ができているか
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q11" value="1">
                        <input type="radio" name="q11" value="2">
                        <input type="radio" name="q11" value="3">
                        <input type="radio" name="q11" value="4">
                        <input type="radio" name="q11" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,4.75]">
            <h4>
                いつでも打てるような構えができているか
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q12" value="1">
                        <input type="radio" name="q12" value="2">
                        <input type="radio" name="q12" value="3">
                        <input type="radio" name="q12" value="4">
                        <input type="radio" name="q12" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,4.13]">
            <h4>
                自分の体を想像通りにコントロールできているか
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q13" value="1">
                        <input type="radio" name="q13" value="2">
                        <input type="radio" name="q13" value="3">
                        <input type="radio" name="q13" value="4">
                        <input type="radio" name="q13" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,4.06]">
            <h4>
                動きの兆しを見て、相手の動きを予測できるか
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q14" value="1">
                        <input type="radio" name="q14" value="2">
                        <input type="radio" name="q14" value="3">
                        <input type="radio" name="q14" value="4">
                        <input type="radio" name="q14" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,-3.56]">
            <h4>
                体力
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q15" value="1">
                        <input type="radio" name="q15" value="2">
                        <input type="radio" name="q15" value="3">
                        <input type="radio" name="q15" value="4">
                        <input type="radio" name="q15" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,-3.38]">
            <h4>
                パワー（単純な力の強さ）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q16" value="1">
                        <input type="radio" name="q16" value="2">
                        <input type="radio" name="q16" value="3">
                        <input type="radio" name="q16" value="4">
                        <input type="radio" name="q16" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,-4.06]">
            <h4>
                足の張り
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q17" value="1">
                        <input type="radio" name="q17" value="2">
                        <input type="radio" name="q17" value="3">
                        <input type="radio" name="q17" value="4">
                        <input type="radio" name="q17" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,-3.56]">
            <h4>
                すり足や踏み込みの速さ
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q18" value="1">
                        <input type="radio" name="q18" value="2">
                        <input type="radio" name="q18" value="3">
                        <input type="radio" name="q18" value="4">
                        <input type="radio" name="q18" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,-4.25]">
            <h4>
                一つひとつの動作の間の速さ
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q19" value="1">
                        <input type="radio" name="q19" value="2">
                        <input type="radio" name="q19" value="3">
                        <input type="radio" name="q19" value="4">
                        <input type="radio" name="q19" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,-4.31]">
            <h4>
                声
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q20" value="1">
                        <input type="radio" name="q20" value="2">
                        <input type="radio" name="q20" value="3">
                        <input type="radio" name="q20" value="4">
                        <input type="radio" name="q20" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>

        <div class="question" data-vector="[0,-4.56]">
            <h4>
                体幹（身体の安定感、重心の強さ）
            </h4>
                <div class="question_select">
                    <p>強く思う</p>
                    <div class="question_radio">
                        <input type="radio" name="q21" value="1">
                        <input type="radio" name="q21" value="2">
                        <input type="radio" name="q21" value="3">
                        <input type="radio" name="q21" value="4">
                        <input type="radio" name="q21" value="5">
                    </div>
                    <p> 全く思わない</p>
                </div>
        </div>
        <button onclick="send()" style="border-color:#9c91b3; background-color:#e6e2f0; width:auto; height:50px; border-radius:5px; margin:auto; display: block;padding-left:150px; padding-right:150px;margin-top:35px; margin-bottom: 35px;">
            <p style="font-size:20px;">診 断 す る</p>
        </button>
    </form>
   </main>
</body>

<script>
    const form = document.getElementById("form");
    const questions = document.getElementsByClassName("question");

    function vectorAdd(v1,v2){
        return v1.map((value,index) => value + v2[index]);
    }

    function getQuadrant(v){

            let x = v[0];
            let y = v[1];

            if (x > 0 && y > 0) return 1;  // 第1象限
            if (x < 0 && y > 0) return 2;  // 第2象限
            if (x < 0 && y < 0) return 3;  // 第3象限
            if (x > 0 && y < 0) return 4;  // 第4象限
            return 0;  // 軸上または原点
    }

    function send(){
        let result = [0,0];
      
        const formdata = new FormData(form);
        let answers = [];
        for(let key of formdata.keys()){
            let a = parseInt(formdata.get(key));
            a =a-3;
            a = a*(-0.5);
            answers.push(a);
        }

        for(let i=0; i<questions.length; i++){
            let vector = JSON.parse(questions[i].dataset.vector);
            let scaled = vector.map(v => v*answers[i]);
            result = vectorAdd(result, scaled);
        }
    
        if(getQuadrant(result)===1){
            window.location.href="result1.html";
        }else if(getQuadrant(result)===2){
            window.location.href="result2.html";
        }else if(getQuadrant(result)===3){
            window.location.href="result3.html";
        }else if(getQuadrant(result)===4){
            window.location.href="result4.html";
        }

        alert(result);
        
    }
</script>
</html>